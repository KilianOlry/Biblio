<th:block th:include="/_partials/header.html"></th:block>

<h1 th:unless="${mode == 'suppression'}" class="text-center">Formulaire livre</h1>
<h1 th:if="${mode == 'suppression'}" class="text-center">Confirmer la suppression du livre suivant :</h1>


<form method="post" th:object="${livre}">
    <div class="form-group">
        <label for="titre">Titre</label>

        <input th:if="${mode == 'suppression'}"  type="text" th:field="*{titre}" 
                id="titre" class="form-control" disabled >
        <input th:unless="${mode == 'suppression'}"  type="text" th:field="*{titre}" 
                id="titre" class="form-control" >
    </div>

    <div class="form-group">
        <label for="synopsis">Synopsis</label>
        <textarea th:if="${mode == 'suppression'}" th:field="*{synopsis}" id="synopsis" disabled class="form-control"></textarea>
        <textarea th:unless="${mode == 'suppression'}" th:field="*{synopsis}" id="synopsis" class="form-control"></textarea>
    </div>

    <div class="form-group">
        <label for="auteur_id">Auteur</label>
        <select th:field="*{auteur}" id="auteur_id" class="form-control">
            <option value=""></option>
            <option th:each="auteur: ${auteurs}" th:value="${auteur.id}"
                    th:text="${auteur.prenom + ' ' + auteur.nom}"
                    ></option>
        </select>
    </div>

    <div class="row">
        <div class="col " 
                    th:each="genre: ${genres}"
                    th:object="${genre}" >
            <label th:for="*{libelle}" th:text="*{libelle}"></label>
            <input type="checkbox" 
                    th:field="${livre.genres}"  
                    th:id="*{libelle}"
                    th:value="*{id}">
        </div>
    </div>


    <div class="d-flex mt-3 justify-content-between">
        <button th:unless="${mode == 'suppression'}" class="btn btn-primary">
            <i class="fa fa-save"></i> Enregistrer
        </button>
        <button th:if="${mode == 'suppression'}" class="btn btn-primary">
            <i class="fa fa-save"></i> Confirmer
        </button>

        <button type="reset" class="btn btn-warning">
            <i class="fa fa-eraser"></i> Effacer
        </button>

        <a href="/admin/livres" class="btn btn-danger">
            <i class="fa fa-reply"></i> Annuler
        </a>
    </div>
</form>


<th:block th:include="/_partials/footer.html"></th:block>